(()=>{"use strict";var t=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.rotate=function(t){var e,i,n,s,o;o=-t*(Math.PI/180),n=Math.cos(o),s=Math.sin(o),e=this.x,i=this.y,this.x=e*n-i*s,this.y=e*s+i*n},t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.normalize=function(){var t;0!==(t=Math.sqrt(this.x*this.x+this.y*this.y))&&(this.x=this.x/t,this.y=this.y/t)},t.prototype.clone=function(){return new t(this.x,this.y)},t}(),e=function(){function e(e,i){this.angle=45,this.baseDirection=new t(0,1),this.context=e,this.length=10,this.pos=i,this.speed=.6,this.width=5}return e.prototype.update=function(t){var e;this.angle>360&&(this.angle-=360),this.angle<0&&(this.angle=360-this.angle),(e=this.baseDirection.clone()).rotate(this.angle),e.normalize(),e.scale(this.speed*t*.1),this.pos.add(e)},e.prototype.draw=function(){var t,e,i,n;(t=this.context).lineCap="round",t.lineJoin="round",t.strokeStyle="black",t.lineWidth=this.width,(e=this.baseDirection.clone()).rotate(this.angle),e.normalize(),e.scale(this.length/2),(i=this.pos.clone()).sub(e),(n=this.pos.clone()).add(e),t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(n.x,n.y),t.stroke()},e.prototype.turnLeft=function(){this.angle+=5},e.prototype.turnRight=function(){this.angle-=5},e}(),i=new(function(){function i(i){this.canvas=i,this.context=i.getContext("2d"),this.isPaused=!1,this.lastUpdate=Date.now(),this.turtle=new e(this.context,new t(250,250)),this.resume()}return i.prototype.update=function(){var t,e;e=(t=Date.now())-this.lastUpdate,this.turtle.update(e),this.clearCanvas(),this.turtle.draw(),this.fps=1e3/e,this.lastUpdate=t},i.prototype.clearCanvas=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.pause=function(){this.isPaused=!0,clearInterval(this.interval),console.log(this.interval)},i.prototype.resume=function(){var t=this;this.isPaused=!1,this.lastUpdate=Date.now(),this.interval=setInterval((function(){return t.update()}),50)},i.prototype.keyDown=function(t){"Space"===t&&(!0===this.isPaused?this.resume():this.pause()),"ArrowLeft"===t&&this.turtle.turnLeft(),"ArrowRight"===t&&this.turtle.turnRight()},i.prototype.keyUp=function(t){},i.prototype.getFPS=function(){return this.fps},i}())(document.getElementById("canvas"));window.addEventListener("keydown",(function(t){console.log(t.code),i.keyDown(t.code)}),!1),window.addEventListener("keyup",(function(t){i.keyUp(t.code)}),!1)})();